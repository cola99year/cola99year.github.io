(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{376:function(s,a,t){s.exports=t.p+"assets/img/image-20230325180209040.1b33a829.png"},377:function(s,a,t){s.exports=t.p+"assets/img/image-20230325180219310.9f0136af.png"},417:function(s,a,t){"use strict";t.r(a);var n=t(3),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一、在linux安装nginx教程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、在linux安装nginx教程"}},[s._v("#")]),s._v(" 一、在Linux安装Nginx教程")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("该教程的nginx的安装路径为：/usr/local/nginx")])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("下载Nginx包")])])]),s._v(" "),a("p",[a("a",{attrs:{href:"http://nginx.org/en/download.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网下载地址"),a("OutboundLink")],1),s._v("；")]),s._v(" "),a("p",[a("img",{attrs:{src:t(376),alt:"image-20230325180209040"}})]),s._v(" "),a("br"),s._v(" "),a("ul",[a("li",[s._v("将下载的Nginx安装包拖拽到虚拟机目录中，我这里是放到了"),a("code",[s._v("root")]),s._v("目录下")]),s._v(" "),a("li",[s._v("进入到root目录，解压安装包")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v("  nginx-1.22.1.tar.gz "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#解压到当前目录")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-1.22.1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入解压后的文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看文件夹中的文件: configure")]),s._v("\n")])])]),a("br"),s._v(" "),a("ul",[a("li",[s._v("安装依赖库")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装C编译器")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" gcc\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装pcre库")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" pcre pcre-devel\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装zlib")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" zlib zlib-devel\n")])])]),a("ul",[a("li",[s._v("安装Nginx")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用prefix选项指定安装的目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("ul",[a("li",[s._v("启动")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 里面是一个nginx的可执行文件")]),s._v("\n\n./nginx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动这个可执行")]),s._v("\n")])])]),a("ul",[a("li",[s._v("关闭虚拟机的防火墙")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl stop firewalld\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁止防火墙自启动")]),s._v("\nsystemctl disable firewalld.service\n")])])]),a("ul",[a("li",[s._v("在Windows浏览器输入虚拟机ip地址测试")])]),s._v(" "),a("p",[s._v("输入"),a("code",[s._v("ip addr")]),s._v("查看虚拟机ip地址")]),s._v(" "),a("p",[a("img",{attrs:{src:t(377),alt:"image-20230325180219310"}})]),s._v(" "),a("br"),s._v(" "),a("h2",{attrs:{id:"二、nginx命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、nginx命令"}},[s._v("#")]),s._v(" 二、Nginx命令")]),s._v(" "),a("br"),s._v(" "),a("h3",{attrs:{id:"_1-停止nginx运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-停止nginx运行"}},[s._v("#")]),s._v(" 1.  停止Nginx运行")]),s._v(" "),a("p",[s._v("来到Nginx安装目录的sbin文件夹下：")]),s._v(" "),a("p",[s._v("cd /usr/local/nginx/sbin")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./nginx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\n\n./nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" stop "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#快速停止")]),s._v("\n\n./nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" quit "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#优雅停止，即Nginx处理完所有请求后，再停止")]),s._v("\n")])])]),a("br"),s._v(" "),a("h3",{attrs:{id:"_2-重新加载配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-重新加载配置"}},[s._v("#")]),s._v(" 2.  重新加载配置")]),s._v(" "),a("p",[s._v("每次修改配置文件，只需执行这个reload命令就可以了！")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重新加载配置，基于优雅停止")]),s._v("\n\n./nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#检查nginx配置是否正确")]),s._v("\n")])])]),a("br"),s._v(" "),a("h3",{attrs:{id:"_3-查看nginx进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看nginx进程"}},[s._v("#")]),s._v(" 3.  查看Nginx进程")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nginx\n")])])]),a("br"),s._v(" "),a("h3",{attrs:{id:"_4-创建启动nginx的脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-创建启动nginx的脚本"}},[s._v("#")]),s._v(" 4.  创建启动Nginx的脚本")]),s._v(" "),a("p",[s._v("目的：通过脚本的方式启动nginx，因为每次进入到Nginx目录下启动他的脚本太麻烦了")]),s._v(" "),a("ul",[a("li",[s._v("创建一个nginx.service脚本")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/lib/systemd/system/\n\n")])])]),a("ul",[a("li",[s._v("编辑脚本，或者直接使用mobaxterm进行编辑")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" usr/lib/systemd/system/nginx.service\n")])])]),a("ul",[a("li",[s._v("插入如下内容：")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("After")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network.target remote-fs.target nss-lookup.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("forking\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#对应目录为上文的Nginx安装目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PIDFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/nginx.pid\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStartPre")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /usr/local/nginx/conf/nginx.conf\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /usr/local/nginx/conf/nginx.conf\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecReload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStop")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" stop\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecQuit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" quit \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PrivateTmp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 多用户")]),s._v("\n")])])]),a("p",[s._v("编辑完，保存退出需要一些的命令才可，或者直接使用mobaxterm进行编辑")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" w "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" nginx.service\n")])])]),a("ul",[a("li",[s._v("重载加载配置")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin\n./nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重新加载配置，基于优雅停止")]),s._v("\n")])])]),a("br"),s._v(" "),a("h3",{attrs:{id:"_5-脚本启动nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-脚本启动nginx"}},[s._v("#")]),s._v(" 5. 脚本启动Nginx")]),s._v(" "),a("p",[s._v("由于创建了脚本，可在任意目录下，执行以下命令")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl start nginx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开启")]),s._v("\n\nsystemctl stop nginx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#快速关闭")]),s._v("\n")])])]),a("h2",{attrs:{id:"三、nginx配置访问密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、nginx配置访问密码"}},[s._v("#")]),s._v(" 三、Nginx配置访问密码")]),s._v(" "),a("h3",{attrs:{id:"_1-生成密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-生成密码"}},[s._v("#")]),s._v(" 1.  生成密码")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("nginx")]),s._v(" 下，默认提供了 "),a("code",[s._v("ngx_http_auth_basic_module")]),s._v(" 模块实现让用户只有输入正确的用户名密码才允许访问web内容")]),s._v(" "),a("p",[s._v("我们只需执行命令，下载htpasswd")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" httpd-tools\n")])])]),a("p",[s._v("生成你的密码文件pass，即生成在/usr/local/nginx目录下，也可使用此命令"),a("strong",[s._v("进行修改密码")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("htpasswd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-cb")]),s._v(" /usr/local/nginx/pass admin "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-修改nginx-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改nginx-config"}},[s._v("#")]),s._v(" 2.  修改nginx.config")]),s._v(" "),a("p",[s._v("找到文件中的那个server")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    listen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server_name  localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新增下面两行,第一行验证时的提示信息")]),s._v("\n    auth_basic "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Please input password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    auth_basic_user_file /usr/local//nginx/pass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    location /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])])]),a("p",[s._v("重启nginx")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#切换地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止")]),s._v("\n./nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" stop\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动")]),s._v("\n./nginx\n")])])]),a("p",[s._v("浏览器访问你的地址，即可查看到验证登录的弹窗！")])])}),[],!1,null,null,null);a.default=e.exports}}]);